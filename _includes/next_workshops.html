{%- capture ics -%}{%- if site.active_lang != site.default_lang -%}/{{site.active_lang}}{%- endif -%}/workshops.ics{% endcapture %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('workshop_calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      locale: "{{site.active_lang}}",
      initialView: "threeMonthList",
      views: {
        threeMonthList: {
          duration: { days: 90 },
          type: 'list',
          buttonText: '90 days'
        }
      },
      headerToolbar: {
        left: '',
        center: 'title',
        right: 'prev,next'
      },
      events: {
        url: "{{ics}}",
        format: 'ics'
      },
    });
    calendar.render();
  });
</script>
<h1>{% t "next_workshops" %}</h1>
<div id='workshop_calendar'></div>
